
MAGIC_WORD_TEXT = "ATARI"
MAGIC_WORD = int(''.join(["%02x"%ord(car) for car in MAGIC_WORD_TEXT]), 16)
DUMP_TAB = ['.' for x in range(32)] + [chr(x) for x in range(32, 128)]+ ['.' for x in range(128, 256)]

ATARI_ENTRIES_PER_SECTOR = 8
ATARI_MAX_ENTRIES = 64
ATARI_SECTOR_SIZE = 0x80
ATARI_DEFAULT_BYTE = 0xff
ATARI_IDX_BYTECOUNT = ATARI_SECTOR_SIZE - 1
ATARI_IDX_FORWARD_PTR = ATARI_SECTOR_SIZE - 2
ATARI_IDX_FILENUM = ATARI_SECTOR_SIZE - 3
ATARI_IDX_BS_FLAGS = 0
ATARI_IDX_BS_NB_SECTOR = 1
ATARI_IDX_BS_LOAD_ADDR = 2
ATARI_IDX_BS_INIT_ADDR = 4
ATARI_IDX_BS_APPBYTES = 6
ATARI_BOOT_SECTOR = 1
ATARI_VTOC = 360
ATARI_FAT_START = 361
ATARI_FAT_STOP = 369
ATARI_ENTRY_SIZE = 16
ATARI_IDX_FAT_SECTOR_COUNT = 1
ATARI_IDX_FAT_STARTING_SECTOR = 3
ATARI_IDX_FAT_FILENAME = 5
ATARI_IDX_FAT_FILENAME_END = ATARI_ENTRY_SIZE
ATARI_OFS_VTOC_FREE_BYTES = 3
ATARI_OFS_VTOC_TOTAL_BYTES = 1
ATARI_OFS_VTOC = 10
ATARI_VTOC_MASK_AND = [128, 64, 32, 16, 8, 4, 2, 1]
ATARI_VTOC_MASK_OR = [value ^ 255 for value in ATARI_VTOC_MASK_AND]
ATARI_LAST_SECTOR = 720
ATARI_TRACK_SIZE = 18
ATARI_BYTES_PER_FILE_SECTOR = 125

ATARI_FILE_FLAG_DELETED = 0x80
ATARI_FILE_FLAG_USED = 0x40
ATARI_FILE_FLAG_LOCKED = 0x20
ATARI_FILE_FLAG_OUTPUT = 0x01

ATARI_ERR_DISK_FULL = "Disk is full!"
ATARI_ERR_DIR_FULL = "Directory is full!"
ATARI_ERR_BAD_CLIPBOARD = "Bad clipboard!"
ATARI_ERR_FILE_NOT_FOUND = "File %s not found!"
ATARI_ERR_FN_MISMATCH = "File number mismatch at sector %u!"
ATARI_ERR_CANT_READ_SECTOR = "Can't read sector!"
ATARI_ERR_BAD_SECTOR_SIZE = "Bad sector size!"
ATARI_ERR_FILE_LOCKED = "File is locked!"
ATARI_ERR_VTOC_MISMATCH = "VTOC indicates sector %u as free!"
ATARI_ERR_UNICODE_CHAR = "Trying to use an unicode char!"
ATARI_ERR_BAD_FILENAME = "Bad Atari DOS filename!"

ATARI_SIO_CMD_SIZE = 4
ATARI_SIO_CMD_READ = ord('R')
ATARI_SIO_CMD_WRITE = ord('W')
ATARI_SIO_CMD_UNKNOWN = ord('N')
ATARI_SIO_CMD_PUT = ord('P')
ATARI_SIO_CMD_STATUS_REQUEST = ord('S')
ATARI_SIO_CMD_ACKNOWLEDGE = ord('A')
ATARI_SIO_CMD_COMPLETE = ord('C')
ATARI_SIO_STATE_ACTIVE = False
ATARI_SIO_STATE_SLEEP = True
ATARI_SIO_COMMUTATION_DELAY = 0.002

ATARI_SIO_STATUS_BIT_INVALID_COMMAND  = 0x01
ATARI_SIO_STATUS_BIT_INVALID_DATA     = 0x02
ATARI_SIO_STATUS_BIT_BAD_PUT          = 0x04
ATARI_SIO_STATUS_BIT_WRITE_PROTECTED  = 0x08
ATARI_SIO_STATUS_BIT_ACTIVE           = 0x10

ATARI_BLUE = '#185A69'
ATARI_WHITE = '#ffffff'
ATARI_WHITE = '#69AAB9'

